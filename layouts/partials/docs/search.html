{{ if default true .Site.Params.BookSearch }}
<div class="book-search">
  <input type="text" id="book-search-input" placeholder="{{ i18n "Search" }}" aria-label="{{ i18n "Search" }}" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
{{ end }}

<div id="searchbox" style="margin-bottom: 10px;height: 36px;width: 100%;"></div>

<script>
  function waitForShadow(host, callback) {
    const timer = setInterval(() => {
      if (host.shadowRoot) {
        clearInterval(timer);
        callback(host.shadowRoot);
      }
    }, 50);
  }
  //优化 搜索按钮样式
  const host = document.querySelector('#searchbox');
  waitForShadow(host, (shadow) => {
    const style = document.createElement('style');
    style.textContent = `
      .infini__searchbox-btn {
        width: 100% !important;
        height: 36px !important;
      }
    `;
    shadow.appendChild(style);
  });
</script>

